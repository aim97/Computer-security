# Math for cryptography
This file includes a summary for the rules needed through out the book, without the explanation or proof of them, it includes the rules, what they imply, and how to use them.

## Finding inverse using extended euclidean algorithm 
Problem statement: find the inverse of a given number *n*, in modulus *m*, given that n and m are coprimes. 

Input: the number to find the inverse of n, and the mod m.  
Solution steps:
Let's define m as r<sub>0</sub>, and n as r<sub>1</sub>, and i := 2.
1. Compute q<sub>i</sub> = floor(r<sub>i-2</sub>,r<sub>i-1</sub>).
2. Compute t<sub>i</sub> = t<sub>i-2</sub> - q<sub>i</sub> t<sub>i-1</sub>.
3. Compute r<sub>i</sub> = r<sub>i-2</sub> - q<sub>i</sub> r<sub>i-1</sub>.
4. `If` r<sub>i</sub> = 1, `then` **t<sub>i</sub> is the inverse of n.**
`Otherwise` jump to step 1, with i := i + 1.

If it didn't reach 1, then n and m aren't co-primes. 

## Group Theory
- A group is defined by a set of _elements_ and and operation _&omicron;_ that satisfy the following rules:
- **The group is closed**: for any two elements _x_ and _y_, _c = x &omicron; y &isin; G_
- **Neutral element**: there must be Neutral Element _N &isin; G_ such that _x &omicron; N = x_
- **Inverse**: for any element _x &isin; G_ there exists an element _x<sup>-1</sup> &isin; G_ sch that _x * x<sup>-1</sup> = N_.
- **Associativity**: the operation &omicron; is associative

### Abelian Groups (Not really important)
- A group is called **Abelian** if the operation &omicron; is commutative.
- Abelian groups are generally simpler to analyze than nonabelian groups.
- Any subgroup of an abelian group is also abelian.
- Any quotient group of an abelian group is also abelian.
- The direct product of two abelian groups is also abelian.


### Finite Groups
A group is called **finite** if it has a finite number of elements.

### Order of Group and Order of element 
- The Cardinality of the group: the order of the group: |G|: the number of elements in the group.
#### The order of an element:  
![Ord(a)](../images/ch8-orderOfElement.png)
The representation a<sup>k</sup> makes it look like multiplication, but we mean any operation &omicron; in general, so we would denote this as _f(a, k)_ here to avoid confusion.
- ord(a) can only be computed by applying *f(a, k)* with different values if k incrementally until the Neutral element is reached, the first (smallest) value of k such that *f(a, k) = N* is ord(a). 
- The maximum order of an element = |G|.
- Generally speaking:  
![](../images/ch8-finite-group.png)  
which is a generalization of euler's theory.

#### primitive elements 
- An element with that maximum order is called _primitive element_ or _generator_, since it can be used to generate all numbers of the group this way.
- A group with at least one primitive element is called *cyclic group*.
- The number of primitive elements in a group _G_ is _&phi;(|G|)_, the number of coprimes of |G|.
- If |G| is prime, all elements of G are primitive (except for the Neutral element of course).

### Cyclic Groups
- A group is called **Cyclic** if it includes a *primitive elemnt &prop;*.
- A Cyclic group mostly finite, but there are also some infinite cyclic groups beyond our scope here.
- This Book is only interested in finite groups, and Ch8 is specifically interested in finite cyclic groups.

### Sub groups 
- Smaller groups generated by the Non-primitive elements of a large group G are called subgroups.
- *Lagrange's Theorem:* let a be a non-primitive element of G and generates subgroup H, since ord(a) divides |G|, then |H| divides |G|.  
- The order of a subgroup is the order of its generator.

### examples of groups
All groups used in cryptography (at least here) are `abelian`, `finite`, `cyclic`
- _Z<sup>*</sup>p_: multiplicative group, and elements are [1 .. p-1], it's used in DHKE, elgammal encryption scheme and digital Signature.
- Elliptic Curves: additive group, but the addition is "not simple", and the elements are points on the elliptic curve under some modular m.
- GF(2<sup>m</sup>): used for AES, but DLP has multiple strong attacks in this groups, so it's not used.
- Hyper-elliptic Curves: they are a generalization over elliptic curves that have shorter operand lengths, rarely used in practive currently.

## Elliptic Curves Groups
- A special type of Groups that has strong cryptographic properities.
![elliptic curve definition](../images/Ch9-EllipticCurve-definition.png)
- As shown in the above pic, elements of the group are points on the chosen curve.
- operation of the group is called "addition" but it's definied in a special way  
  let *p = (x<sub>1</sub>, y<sub>1</sub>), Q = (x<sub>2</sub>, y<sub>2</sub>)*  
  we can compute *R = P + Q = (x<sub>3</sub>, y<sub>3</sub>)* as follows
<p align='center'>
<img alt='elliptic curve addition rules' src='../images/Ch9-EllipticCurve-addition.png' /><br />
<img alt='elliptic curve point addition visualization' src='../images/Ch9-EllipticCurve-additionGraph.png' />
</p>

- The point *&bcy;* is an imaginary point at infinity that acts as a neutral element for the group.

### Primitive element
- let *&prop;* be a primitive element of elliptic curve group *G*, then *|G| * &prop; = &bcy;*, since we denote the operation in this group by `+` sign, we can denote the repeated application of this operation as `*` multiplication (analogous to power operation in multiplicative groups).
- The operation *k * &prop;* is often computed in cryptography, in order to compute it efficiently we use **double and add algorithm** (same as power and multiply algorithm except changing `*` to `+`).

- An important side note *Hasseâ€™s theorem*:
  ![elliptic curve limits](../images/Ch9-EllipticCurve-limits.png) 
### DLP in Elliptic curves
![ECDLP](../images/Ch9-EllipticCurve-DLP.png)  
Computing the multiplier *d* is the DLP in the domain of Elliptic curves.
